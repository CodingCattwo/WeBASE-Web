(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"7eYf":function(e,t,a){},JqeJ:function(e,t,a){"use strict";a.r(t);var s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"bg-f7f7f7"},[a("v-content-head",{attrs:{headTitle:"交易信息",icon:!0,route:"home"}}),e._v(" "),a("div",{staticClass:"block-wrapper"},[a("div",{staticClass:"search-part"},[a("div",{staticClass:"search-part-right"},[a("el-input",{staticClass:"input-with-select",attrs:{placeholder:"请输入内容"},model:{value:e.searchKey.value,callback:function(t){e.$set(e.searchKey,"value",t)},expression:"searchKey.value"}},[a("el-select",{staticStyle:{width:"110px",background:"#fff"},attrs:{slot:"prepend",placeholder:"请选择",clearable:""},slot:"prepend",model:{value:e.searchKey.key,callback:function(t){e.$set(e.searchKey,"key",t)},expression:"searchKey.key"}},[a("el-option",{attrs:{label:"块高",value:"blockNumber"}}),e._v(" "),a("el-option",{attrs:{label:"交易哈希",value:"transactionHash"}})],1),e._v(" "),a("el-button",{attrs:{slot:"append",icon:"el-icon-search"},on:{click:e.search},slot:"append"})],1)],1)]),e._v(" "),a("div",{staticClass:"search-table"},[a("el-table",{directives:[{name:"loading",rawName:"v-loading",value:e.loading,expression:"loading"}],staticClass:"block-table-content",attrs:{data:e.transactionList,"row-key":e.getRowKeys,"expand-row-keys":e.expands}},[a("el-table-column",{attrs:{type:"expand",align:"center"},scopedSlots:e._u([{key:"default",fn:function(e){return[a("v-transaction-detail",{attrs:{transHash:e.row.transHash}})]}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"transHash",label:"交易哈希",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"blockNumber",label:"块高",width:"260",align:"center","show-overflow-tooltip":!0}}),e._v(" "),a("el-table-column",{attrs:{prop:"blockTimestamp",label:"创建时间",width:"280","show-overflow-tooltip":!0,align:"center"}})],1),e._v(" "),a("el-pagination",{staticClass:"page",attrs:{"current-page":e.currentPage,"page-sizes":[10,20,30,50],"page-size":e.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.total},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)])],1)};s._withStripped=!0;var n=a("qse9"),r=a("bxjF"),o=a("mHBk"),i=(a("oYx3"),a("p5Bo")),l={name:"transaction",components:{"v-content-head":n.a,"v-transaction-detail":r.a},data:function(){return{transactionList:[],expands:[],searchKey:{key:"transactionHash",value:""},currentPage:1,pageSize:10,total:0,loading:!1,getRowKeys:function(e){return e.transHash}}},mounted:function(){this.$route.query.blockNumber&&(this.searchKey.key="blockNumber",this.searchKey.value=this.$route.query.blockNumber),this.getTransaction()},methods:{search:function(){"transactionHash"==this.searchKey.key&&66!=this.searchKey.value.length&&this.searchKey.value?this.$message({message:"搜索交易哈希不支持模糊查询",type:"error",duration:2e3}):this.getTransaction()},getTransaction:function(){var e=this;this.expands=[],this.loading=!0;var t={networkId:localStorage.getItem("networkId"),pageNumber:this.currentPage,pageSize:this.pageSize},a={};this.searchKey.value&&(a[this.searchKey.key]=this.searchKey.value),Object(o.u)(t,a).then(function(t){e.loading=!1,0===t.data.code?(e.transactionList=t.data.data,e.total=t.data.totalCount,e.transactionList.length&&e.expands.push(e.transactionList[0].transHash)):e.$message({message:i.a.errCode[t.data.code].cn,type:"error",duration:2e3})}).catch(function(t){e.loading=!1,e.$message.error("系统错误")})},handleSizeChange:function(e){this.pageSize=e,this.currentPage=1,this.getTransaction()},handleCurrentChange:function(e){this.currentPage=e,this.getTransaction()}}},c=(a("S9Ms"),a("KHd+")),h=Object(c.a)(l,s,[],!1,null,"fd5cf4c2",null);h.options.__file="src/views/transactionInfo/transactionInfo.vue";t.default=h.exports},S9Ms:function(e,t,a){"use strict";var s=a("7eYf");a.n(s).a}}]);