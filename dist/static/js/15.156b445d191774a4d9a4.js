(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"3xwS":function(t,a,e){"use strict";var i=e("WxMk");e.n(i).a},WxMk:function(t,a,e){},d7gD:function(t,a,e){"use strict";e.r(a);var i=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"over-view-wrapper"},[e("v-content-head",{attrs:{headTitle:"区块链概览"}}),t._v(" "),e("div",{staticClass:"module-wrapper"},[e("ul",{staticClass:"part1-content"},t._l(t.detailsList,function(a,i){return e("li",{staticClass:"part1-details",style:{"padding-top":i>2?"0":""}},[e("div",["latestBlock"===a.name||"transactionCount"===a.name?e("a",{staticClass:"font-16 cursor-pointer",on:{click:function(e){return t.goDetailRouter(a)}}},[t._v(t._s(a.value)+"个")]):e("span",{staticClass:"font-16"},[t._v(t._s(a.value)+"个")])]),t._v(" "),e("div",[e("span",{staticClass:"font-12"},[t._v(t._s(a.label))])])])}),0)]),t._v(" "),e("div",{staticClass:"module-wrapper"},[t._m(0),t._v(" "),e("div",{ref:"chart",staticClass:"chart"},[t.chartStatistics.show?e("v-chart",{ref:"linechart",attrs:{id:"homeId",data:t.chartStatistics.date,transactionDataArr:t.chartStatistics.dataArr,size:t.chartStatistics.chartSize}}):t._e()],1)])],1)};i._withStripped=!0;var s=e("qse9"),r=function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticStyle:{"padding-left":"30px"}},[a("div",{staticStyle:{"min-width":"250px",height:"350px",margin:"0 auto"},attrs:{id:this.chartId}})])};r._withStripped=!0;var n=e("ProS");e("75ce"),e("Ynxi"),e("AH3D"),e("zRKj"),e("0o9m"),e("Cm0C");var o={name:"charts",props:["type","id","data","transactionDataArr","size"],data:function(){return{chartId:this.id,chartData:this.data,chartTransactionDataArr:this.transactionDataArr,chartSize:this.size,chart:""}},watch:{data:function(){this.chartId=this.id,this.chartData=this.data,this.chartTransactionDataArr=this.transactionDataArr,this.chartSize=this.size,this.chartShow()}},mounted:function(){this.$nextTick(function(){this.chartShow()})},beforeDestroy:function(){window.onresize=null,this.chart&&this.chart.dispose()},methods:{chartShow:function(){var t=this;this.chart=n.init(document.getElementById(this.chartId));this.chartData.length;var a={legend:{height:this.chartSize.height,width:this.chartSize.width},tooltip:{show:!0,trigger:"axis",formatter:function(t){return'<span style="font-size:10px">'+t[0].name+'</span><br><table ><tr><td style="padding:0"><span style="font-size:10px;color:white">交易量：'+t[0].value+"笔</a></span><br></td></tr></table>"}},grid:{left:43,right:33,top:5,bottom:60},series:[{type:"line",symbolSize:1,itemStyle:{normal:{color:"#2878ff",lineStyle:{color:"#2878ff"}}},smooth:!0,symbol:"none",data:this.chartTransactionDataArr}],xAxis:{data:this.chartData,axisLine:{lineStyle:{color:"#e9e9e9",width:2}},axisLabel:{interval:1,textStyle:{color:"rgba(0,14,31,0.62)"}}},yAxis:{axisLine:{show:!1,lineStyle:{color:"#333"}},splitLine:{show:!0,lineStyle:{type:"dashed",color:"#e9e9e9"}},axisTick:{show:!1},axisLabel:{formatter:function(t,a){return t>1e3&&t<1e6?t/1e3+"K":t>1e6||1e6===t?t/1e6+"M":t+""},textStyle:{color:"rgba(0,14,31,0.62)"}}}};this.chart.setOption(a,!0),window.onresize=function(){t.chart.resize()}}}},c=e("KHd+"),h=Object(c.a)(o,r,[],!1,null,null,null);h.options.__file="src/views/home/components/chart.vue";var l=h.exports,d=e("mHBk"),u=e("DgvE"),f=e("oYx3"),p=e("p5Bo"),m={name:"home",components:{"v-content-head":s.a,"v-chart":l},data:function(){return{detailsList:[{label:"机构个数",name:"orgCount",value:0},{label:"节点个数",name:"nodeCount",value:0},{label:"已部署的智能合约",name:"contractCount",value:0},{label:"区块数量",name:"latestBlock",value:0},{label:"交易数量",name:"transactionCount",value:0}],networkDetails:null,chartStatistics:{show:!1,date:[],dataArr:[],chartSize:{width:0,height:0}},reloadNumber:!0,networkId:localStorage.getItem("networkId")}},mounted:function(){this.networkId=localStorage.getItem("networkId"),this.getNetworkDetails(),this.$nextTick(function(){this.chartStatistics.chartSize.width=this.$refs.chart.offsetWidth,this.chartStatistics.chartSize.height=this.$refs.chart.offsetHeight,this.getChart()})},destroyed:function(){},methods:{getNetworkDetails:function(){var t=this,a=this.networkId;Object(d.s)(a).then(function(a){0===a.data.code?t.detailsList.forEach(function(t,e){for(var i in a.data.data)t.name===i&&(t.value=a.data.data[i])}):t.$message({type:"error",message:p.a.errCode[a.data.code].cn})}).catch(function(a){t.$message({type:"error",message:"系统错误！"})})},getChart:function(){var t=this;this.chartStatistics.show=!1,this.chartStatistics.date=[],this.chartStatistics.dataArr=[];var a=localStorage.getItem("networkId");Object(d.o)(a).then(function(a){if(0===a.data.code){for(var e=Object(u.a)(a.data.data),i=0;i<e.length;i++)t.chartStatistics.date.push(e[i].day),t.chartStatistics.dataArr.push(e[i].transCount);t.$set(t.chartStatistics,"show",!0)}else t.$message({type:"error",message:p.a.errCode[a.data.code].cn})}).catch(function(a){t.$message({type:"error",message:"系统错误！"})})},goDetailRouter:function(t){"latestBlock"===t.name?f.a.push("blockInfo"):"transactionCount"===t.name&&f.a.push("transactionInfo")}}},v=(e("3xwS"),Object(c.a)(m,i,[function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"part2-title"},[a("span",{staticClass:"part2-title-left"},[this._v("关键监控指标")]),this._v(" "),a("span",{staticClass:"part2-title-right"},[this._v("最近有交易的7天交易量")])])}],!1,null,"39f87be5",null));v.options.__file="src/views/home/home.vue";a.default=v.exports}}]);